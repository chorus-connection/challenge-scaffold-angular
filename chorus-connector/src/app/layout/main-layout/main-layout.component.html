<div class="container" [class.is-mobile]="mobileQuery.matches">
	<mat-toolbar class="toolbar">
		<button mat-icon-button (click)="sideNav.toggle()">
			<mat-icon>menu</mat-icon>
		</button>
		<a routerLink="/" class="home-link">
			<h1 class="app-name">Chorus Connection</h1>
		</a>
	</mat-toolbar>

	<mat-sidenav-container
		class="sidenav-container"
		[style.marginTop.px]="mobileQuery.matches ? 56 : 0"
	>
		<mat-sidenav
			#sideNav
			[mode]="mobileQuery.matches ? 'over' : 'side'"
			[fixedInViewport]="mobileQuery.matches"
			fixedTopGap="56"
		>
			<mat-nav-list>
				<a mat-list-item routerLink="/">Home</a>
				@if (isLoggedIn()) {
					<a mat-list-item routerLink="/home/create">Add new chorus</a>
				}
			</mat-nav-list>

			<section class="auth">
				@if (isLoggedIn()) {
					<button mat-flat-button color="warn" (click)="onLogOutClick()">Log out</button>
				} @else {
					<a mat-flat-button routerLink="/auth/login">Log in</a>
				}
			</section>
		</mat-sidenav>

		<mat-sidenav-content>
			<router-outlet />
		</mat-sidenav-content>
	</mat-sidenav-container>
</div>
